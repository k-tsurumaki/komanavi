# セキュリティドキュメント

このディレクトリには、KOMANAVIのセキュリティに関するドキュメントが含まれています。

## ドキュメント一覧

### [セキュリティ課題](./セキュリティ課題.md)
認証、会話履歴、パーソナル情報管理に関する既知のセキュリティ課題と対応ロードマップ。

**対象読者**: 開発者、プロジェクトマネージャー
**内容**:
- 優先度別の課題一覧（CRITICAL / HIGH / MEDIUM / LOW）
- 各課題の詳細と推奨される対応策
- 対応ロードマップ（Phase 1〜4）

### [認証とデータ管理の調査報告](./認証とデータ管理の調査報告.md)
認証システム、会話履歴管理、パーソナル情報管理の技術的な詳細調査。

**対象読者**: 開発者、セキュリティエンジニア
**内容**:
- 認証フローの詳細（Google OAuth / Firebase）
- データモデルとAPI仕様の詳細
- セキュリティ分析とリスク評価
- 技術的な修正案と実装パターン

## クイックリファレンス

### 🔴 CRITICAL（すぐに対応が必要）
1. Firestore Rules と NextAuth の認証ID不整合
   - クライアント側から Firestore にアクセスする前に必ず対応

### 🟡 HIGH（早急に対応推奨）
1. `users` コレクションに Firestore Rules がない
2. 会話履歴削除時に `conversation_manga` が削除されない

### 次のステップ
1. [セキュリティ課題](./セキュリティ課題.md) を確認
2. 優先度に応じて対応計画を立てる
3. [認証とデータ管理の調査報告](./認証とデータ管理の調査報告.md) で実装パターンを確認
4. Phase 1 の緊急対応から着手

## 関連ドキュメント
- [認証機能設計書](../auth/認証機能設計書.md)
- [会話履歴機能 設計書](../conversation-history/design.md)
- [Firestore 設定・運用メモ](../conversation-history/deployment.md)

---

**最終更新**: 2026-02-08
