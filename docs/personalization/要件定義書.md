1. 機能概要
ユーザーが自身の基本情報を「Myページ」にて登録・編集可能にし、その情報を「漫画生成AI」が主人公のキャラクター設定として参照できるようにする。
2. 画面・UI要件 (Myページ)
  2.1 アクセス
  導線：ホーム画面等のユーザーアイコンをクリック → ドロップダウンメニュー内の「Myページ」リンクから遷移。
  2.2 表示・入力項目：ユーザーは以下の情報をフォーム形式で登録・更新できる。すべて「任意入力（Optional）」とする。

項目ラベル | 入力形式 | 制約・備考
-- | -- | --
名前（表示名） | テキストボックス | 漫画の主人公名として使用。未入力時は「主人公」等に置換。
生年月日 | 日付ピッカー | DBには日付で保存。画面表示・AI連携時は「年齢」に変換。
性別 | セレクトボックス | 男性 / 女性 / その他 / 無回答
職業 | テキストボックス | 例：会社員、魔法使い、学生 など
国籍 | セレクトボックス | 国名リストから選択
居住地 | テキストボックス | 都道府県・国レベル（例：東京都、日本）。詳細住所は入力させない。
外見の特徴 | テキストエリア | 例：黒髪ショートヘア、眼鏡をかけている、長身
性格・口調 | テキストエリア | 例：熱血漢、関西弁、冷静沈着

2.3 UI挙動
保存ボタン: クリック時にDBへUPSERT(更新または挿入) を行う。
プライバシー表示:「入力された情報は漫画生成のキャラクター設定にのみ使用されます」等の注記を表示する。

3. データ要件 (設計)
RDBのテーブル構造ではなく、ドキュメント構造として定義します。 ユーザー認証基盤（Firebase Auth等）のUser IDをドキュメントIDとして使用し、直感的にアクセスできるようにします。
クライアントSDKによる直接アクセスではなく、専用のAPI (`/api/user/profile`) を経由して読み書きを行います。
3.1 コレクション構造
- Collection Path: users
- Document ID: {userId} (AuthのUID)

3.2 ドキュメントフィールド定義
各ユーザーのドキュメント (users/{userId}) 内に以下のフィールドを保持する。

フィールド名 | 型 (Firestore) | 必須 | 説明
-- | -- | -- | --
displayName | String | NO |  
birthDate | Timestamp | NO | 年齢計算用
gender | String | NO |  
occupation | String | NO |  
nationality | String | NO |  
location | String | NO | 都道府県レベル
visualTraits | String | NO | 外見特徴 (改行含むテキスト)
personality | String | NO | 性格・口調 (改行含むテキスト)
updatedAt | Timestamp | YES | サーバータイムスタンプ

※ NoSQLのため、未入力の項目はフィールド自体が存在しない（undefined）か、nullが入ることを許容する設計とする。